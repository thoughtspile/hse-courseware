# Занятие 18.11.16

**Организационная часть**
* Убедились, что все работали с гитом
* `npm install` устанавливает все зависимости проекта, указанные в `package.json`, так что обычно папку `node_modules` добавляют в `.gitignore` — ее можно восстановить одной командой.
* Немного обсудили markdown — удобный формат разметки для текстовых файлов. Дока по github-диалекту md: [https://guides.github.com/features/mastering-markdown/]()

**js-часть**
* Обсудили операторы в js: [`01-operators.js`]()
* Поговорили про функциональный стиль — области видимости и замыкания: [`02-scopes-closures.js`]()
* Познакомились с `this` — ссылкой на объект, в контексте которого вызвана функция: [`03-this.js`](). Разобрались с отличием между `function` и стрелочными функциями.

**Практическая часть**
* Немного поговорили про CSS-селекторы (см. ниже)
* Написали программу [`scrape-table`](), которая использует модули `request` и `cheerio`, чтобы достать из html-страницы элементы по селектору.

## DOM и CSS-селекторы
Обсудили  CSS-селекторы, которые позволяют искать в нем элементы. Например, в таком небольшом html:
```html
<body>
    <span class='shared'>Описание товара:</span>
    <div class='shared'>
        <span>Желтый чемоданчик</span>
        <span class='price'>123$</span>
    </div>
</body>```
можно написать такие селекторы:
* `div` — второй элемент по имени тега,
* `span` — все три `span`,
* `div span` — два `span` внутри `div` (вложенные элементы через пробел),
* `.price` — только `span` с ценой (классу),
* `span.shared` — только первый `span` (по тегу и классу — "и" слитно).

Вот неплохой референс по CSS: http://www.cheetyr.com/css-selectors

В консоли браузера можно запросить элементы по селектору через `document.querySelectorAll('<селектор>')`

## Задание

### Официальная часть

Всем следует завести репозиторий для проекта и:
- Добавить в него README.md с заголовком, в котором указаны Ф.И.О. студента,
номер группы и тема проекта;
- Дать доступ к нему мне (thoughtspile) и куратору проектов (cs-hse-projects-curator);
- Скинуть адрес репозитория в чатик.

### 1. Функции высшего порядка
Реализовать свой `<Array>.reduce` через цикл for. Убедиться, что она работает (и функция, и тест должны быть модулями).

### 2. Методы объектов и `this`
Написать фабрику векторов в `R^2` (не пугайтесь). Функция `makePoint2d` принимает на вход два числа и возвращает объект:
```js
{
    x: <первое число>,
    y: <второе число>,
    format: <метод, возвращает строку в формате (<x>, <y>)>,
}
```

Пример использования:
```js
const makePoint2d = require('./makePoint2d');
const vec1 = makePoint2d(10, 28.5);
console.log(vec1.format()); // '(10, 28.5)'
```
Функция `format` должна быть объявлена один раз, а не создаваться при каждом вызове `makePoint2d`.

### 3. Селекторы

Достать со страницы [https://en.wikipedia.org/wiki/Madrid_Metro]() (точнее, из первой таблицы) и записать в отделные JSON-файлы (по файлу на пункт):
1. Названия конечных станций для каждой линии метро
2. Список адресов странц линий (названия конечных — ссылки, их атрибут href ведет на страницу линии).

Используйте `cheerio`, вот документация к нему: [https://cheerio.js.org/]()

*(задание супер сложности)* Здорово, если получится вынести общую часть двух заданий в отделный переиспользуемый модуль, а не копипастить.
